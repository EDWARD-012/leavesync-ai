<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manager Dashboard | LeaveSync</title>
    <style>
        body {font-family: Arial, sans-serif;background:#f1f5f9;margin:0;}
        header {background:#2563eb;color:white;padding:15px 30px;display:flex;justify-content:space-between;align-items:center;}
        a {text-decoration:none;color:white;margin-left:15px;}
        a:hover{text-decoration:underline;}
        .container {max-width:900px;margin:40px auto;background:white;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
        .btn{padding:8px 14px;border-radius:6px;color:white;text-decoration:none;font-weight:bold;}
        .approve{background:#16a34a;}
        .reject{background:#dc2626;}
        table{width:100%;border-collapse:collapse;margin-top:20px;}
        th,td{padding:10px;border-bottom:1px solid #ddd;}
        th{background:#eff6ff;}
    </style>
</head>
<body>

<header>
    <h2>Manager Dashboard</h2>
    <nav>
        <a href="/">Home</a>
        <a href="/accounts/logout/">Logout</a>
    </nav>
</header>

<div class="container">
    <h3>Welcome {{ user.username }} (Manager)</h3>
    <p>Manage pending leave requests and track team activity.</p>

    <div style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
        <a href="/leave/upload-holidays/" class="btn" style="background: #9333ea;">üìÖ Upload Holidays</a>
        {% if user.company %}
            <a href="/company/users/" class="btn" style="background: #0284c7;">üë• Company Users</a>
        {% else %}
            <a href="/company/register/" class="btn" style="background: #059669;">üè¢ Register Company</a>
        {% endif %}
    </div>

    <h4>Pending Leave Requests</h4>
    <table>
        <thead>
            <tr><th>Employee</th><th>Type</th><th>Dates</th><th>Status</th><th>Actions</th></tr>
        </thead>
        <tbody>
            {% for req in requests %}
            <tr>
                <td>{{ req.user.username }}</td>
                <td>{{ req.leave_type.name }}</td>
                <td>{{ req.start_date }} ‚Üí {{ req.end_date }}</td>
                <td>{{ req.status|title }}</td>
                <td>
                    <a href="/leave/approve/{{ req.id }}/" class="btn approve">Approve</a>
                    <a href="/leave/reject/{{ req.id }}/" class="btn reject">Reject</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="5">No pending requests.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
